# 執筆規約 (Writing Guidelines)

本書の執筆にあたり、一貫性と可読性を保つため、以下の規約を遵守します。

## 1. フォーマット・装飾に関するルール

内容の理解に集中できるよう、装飾は最小限に留めます。

### 1.1 装飾の禁止

- 絵文字: 一切使用しません。
- 太字 (Bold): `**` や `<b>` タグによる強調は、原則として使用しません。見出しやコードブロックが構造を十分に示します。
- その他: イタリック、打ち消し線など、特に必要のない装飾は避けます。

### 1.2 スペースの挿入

ASCII 文字 (英数字、記号、コード片) とマルチバイト文字 (日本語) が隣接する場合、可読性向上のため、間に必ず半角スペースを 1 つ挿入します。

- 良い例: `Rust` の所有権は重要な概念です。`main` 関数から始めましょう。
- 悪い例: `Rust`の所有権は重要な概念です。`main`関数から始めましょう。

## 2. 内容に関するルール

本書の根幹である企画書の執筆方針を常に遵守します。

### 2.1 企画書の基本原則

- 1 章 1 概念: 1 つの章で解説する新しい概念は 1 つに絞り、読者が確実に理解を積み重ねられるようにします。
- 「なぜ」を説明: すべての機能や構文について、「雰囲気」で済まさず、その設計思想や必要性を解説します。
- 徹底した一貫性: 用語、コーディングスタイルを全編で統一します。
    - `return` キーワード: 第 1 部では、関数の戻り値を `return` キーワードで必ず明示します。`return` の省略は第 2 部以降で解説します。
- 図解の活用: 複雑な概念 (所有権、借用、ライフタイムなど) は、`Mermaid` フォーマットの図を積極的に活用し、視覚的な理解を助けます。

### 2.2 具体性の原則

- 抽象的な表現の回避: 「効率的」「高レベル」といった抽象的な言葉で説明を終えず、必ずその具体的な意味を記述します。
    - 悪い例: 「このコードは効率的に動作します。」
    - 良い例: 「このコードは、コンパイラがベクトル化やループ展開といった変換を施しやすいため、高速な機械語になります。」
- 専門用語の説明: やむを得ず専門用語 (例: ベクトル化) を使用する場合は、必ず簡単な注釈を添えるか、文脈から意味が推測できるようにします。

### 2.4 体験的学習の原則

本書は、読者が「読んで理解する」だけでなく、「試して納得する」ことを重視します。すべての概念は、読者が自らの手でコードを動かし、結果を確かめ、時にはエラーを体験することを通じて、深く理解できるように構成します。

- ローカル環境での実行を推奨: 学習の基本は、`cargo new` でプロジェクトを作成し `cargo run` で実行するローカル開発サイクルとします。これにより、読者は実際の開発フローに慣れ親むことができます。
- CLI REPL の活用: `evcxr` などの CLI REPL ツールを積極的に活用し、小さなコード片を気軽に試せる環境を推奨します。ウェブベースの Playground は、あくまで補助的な選択肢として紹介します。
- 「試してみよう」コーナーの設置: コード例の後には、「このコードをこう変えたらどうなるでしょう？」といった問いかけや、小さな課題 (例: `mut` を外す、型を変える) を設け、読者の能動的な参加を促します。コンパイラのエラーメッセージを読む体験も、重要な学習の一部と位置づけます。
- 対話形式の解説: 「なぜこうなるの？」「このエラーの意味は？」といった読者の疑問を先取りする形で、対話形式や Q&A 形式の解説を取り入れます。

## 3. サンプルコードの原則

- シンプルさ: 解説する概念と無関係な要素 (特殊な構文など) を含めず、最もシンプルな例から始めます。
- 実用性: 意味のない変数や、使われないコードを含めません。すべてのコード行に意味を持たせます。

### 3.1 Mermaid 図の検証

- 構文チェック: `Mermaid` の図を原稿に含める際は、コミット前に必ずローカル環境のプレビュー機能や `mmdc` (Mermaid CLI) などのツールを用いて構文エラーがないことを確認します。
- 引用符の使用: ラベルやタイトルにバッククォート (` `) などの特殊文字やスペースが含まれる場合は、必ずダブルクォーテーション (`"`) で囲み、パースエラーを防ぎます。

---

このドキュメントは、必要に応じて更新されます。
